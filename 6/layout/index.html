<!DOCTYPE html>
<html lang="ru">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Smart Control</title>

    <link href="assets/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/azia.min.css">
    <script src="https://unpkg.com/vue@next"></script>
</head>

<body>
    <div id="app">
        <div class="vh-100 d-flex align-items-center" v-if="scene == 'sigin'">
            <div class="row w-100">
                <div class="col-3 mx-auto">
                    <div class="card">
                        <div class="card-body p-5">
                            <h1 class="az-logo mb-5">Smart control</h1>

                            <div class="mb-5">
                                <h4 class="mb-4">Please sign in to continue</h4>

                                <form action="index.html" v-on:submit.prevent="log()">
                                    <div class="form-group">
                                        <input v-model="user_log.login" type="text" class="form-control" :class="{'is-invalid': SlErrorMsg}" placeholder=" Enter your login " data-finp-login>
                                        <span class="invalid-feedback " data-em-login>{{ SlErrorMsg }}</span>
                                    </div>
                                    <div class="form-group ">
                                        <input v-model="user_log.password " type="password " class="form-control" :class="{'is-invalid': SpErrorMsg}" placeholder="Enter your password " data-finp-password>
                                        <span class="invalid-feedback " data-em-password>{{ SpErrorMsg }}</span>
                                    </div>

                                    <button class="mt-4 btn btn-az-primary btn-block " data-signin-btn>Sign In</button>
                                </form>
                            </div>

                            <div class="az-signin-footer ">
                                <p>Don't have an account? <a href="#" data-signin-link-signup @click="nav('signup')">Create an Account</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="vh-100 d-flex align-items-center " v-if="scene == 'signup' ">
            <div class="row w-100 ">
                <div class="col-4 mx-auto ">
                    <div class="card ">
                        <div class="card-body p-5 ">
                            <h1 class="az-logo mb-5 ">Smart control</h1>

                            <div class="mb-5 ">
                                <h4 class="mb-4 ">Please sign up to continue</h4>

                                <form action="signin.html " v-on:submit.prevent="reg()">
                                    <div class="d-flex justify-content-between ">
                                        <div class="form-group w-100 pr-2 ">
                                            <input type="text " class="form-control " :class="{ 'is-invalid': FnErrorMsg} " placeholder="Enter your full name " data-finp-name v-model="user_reg.full_name ">
                                            <span class="invalid-feedback " data-em-name> {{ FnErrorMsg }}</span>
                                        </div>
                                        <div class="form-group w-100 pl-2 ">
                                            <input type="text " class="form-control " :class="{ 'is-invalid': LErrorMsg} " placeholder=" Enter your login " data-finp-login v-model="user_reg.login ">
                                            <span class="invalid-feedback " data-em-login> {{ LErrorMsg }} </span>
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-between ">
                                        <div class="form-group w-100 pr-2 ">
                                            <input type="password " class="form-control " :class="{ 'is-invalid': PErrorMsg} " placeholder="Enter your password " data-finp-password v-model="user_reg.password ">
                                            <span class="invalid-feedback " data-em-password>{{ PErrorMsg }}</span>
                                        </div>
                                        <div class="form-group w-100 pl-2 ">
                                            <input type="password " class="form-control " :class="{ 'is-invalid': PcErrorMsg} " placeholder=" Confirm your password " data-finp-password2 v-model="user_reg.password_confirmation ">
                                            <span class="invalid-feedback " data-em-password2>{{ PcErrorMsg }}</span>
                                        </div>
                                    </div>

                                    <button class="mt-4 btn btn-az-primary btn-block " data-signup-btn>Sign Up</button>
                                </form>
                            </div>

                            <div class="az-signin-footer ">
                                <p>Already have an account? <a href="#" @click="nav('sigin')" data-signup-link-signin>Sign In</a>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="az-header ">
            <div class="container ">
                <div class="az-header-left ">
                    <a href="index.html " class="az-logo " data-header-logo>smart control</a>
                </div>

                <div class="az-header-menu ">
                    <ul class="nav ">
                        <li class="nav-item " :class="{active: scene == 'index'} ">
                            <a href="# " class="nav-link " data-header-link-index @click="nav('index')">Control point management</a>
                        </li>
                        <li class="nav-item ">
                            <a href="# " class="nav-link " data-header-link-access @click="nav(hui)">Access groups</a>
                        </li>
                        <li class="nav-item " :class="{active: scene == 'stuff'} ">
                            <a href="# " class="nav-link " data-header-link-staff @click="nav('stuff')">Staff management</a>
                        </li>
                        <li class="nav-item ">
                            <a href="# " class="nav-link " data-header-link-logging @click="nav(hui) ">Logging and analytics</a>
                        </li>
                    </ul>
                </div>

                <div class="az-header-right ">
                    <div class="dropdown az-profile-menu ">
                        <a href="# " class="az-img-user " data-header-user>
                            <img src="assets/images/avatar.jpg " alt="John Doe ">
                        </a>

                        <div class="dropdown-menu ">
                            <div class="az-dropdown-header d-sm-none ">
                                <a href=" " class="az-header-arrow "><i class="icon ion-md-arrow-back "></i></a>
                            </div>
                            <div class="az-header-profile ">
                                <div class="az-img-user " data-header-user-image>
                                    <img src="assets/images/avatar.jpg " alt="John Doe ">
                                </div>
                                <h6 data-header-user-name>John Doe</h6>
                            </div>

                            <a href="page-signin.html " class="dropdown-item " data-header-signout>
                                <i class="fas fa-sign-out-alt "></i> Sign Out
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="az-content az-content-dashboard " v-if="scene == 'index'">

            <div class="container ">
                <div class="az-content-body ">
                    <div class="az-dashboard-one-title ">
                        <div>
                            <h2 class="az-dashboard-title " data-page-title>Control Points</h2>
                            <p class="az-dashboard-text " data-page-description>Here you can manage your control points.
                            </p>
                        </div>
                    </div>

                    <div class="treeview ">
                        <ul>
                            <!-- Control Point -->
                            <li>
                                <div class="treeview__level " data-level="A " data-pol>
                                    <span class="level-title " data-pob-name>Office building</span>
                                    <div class="treeview__level-btns ">
                                        <button data-pob-edit class="btn btn-sm level-edit "><i
                                                class="fa fa-pen "></i></button>
                                        <button data-pob-remove class="btn btn-sm level-remove "><i
                                                class="fa fa-trash "></i></button>
                                        <button data-pob-add class="btn btn-sm level-add "><i
                                                class="fa fa-plus "></i></button>
                                    </div>
                                </div>
                                <ul>
                                    <!-- Control Point -->
                                    <li>
                                        <div class="treeview__level " data-level="B " data-pol>
                                            <span class="level-title " data-pob-name>Security</span>
                                            <div class="treeview__level-btns ">
                                                <button data-pob-edit class="btn btn-sm level-edit "><i
                                                        class="fa fa-pen "></i></button>
                                                <button data-pob-remove class="btn btn-sm level-remove "><i
                                                        class="fa fa-trash "></i></button>
                                                <button data-pob-add class="btn btn-sm level-add "><i
                                                        class="fa fa-plus "></i></button>
                                            </div>
                                        </div>
                                        <ul>
                                            <li>
                                                <div class="treeview__level " data-level="C " data-pol>
                                                    <span class="level-title " data-pob-name>Prikol</span>
                                                    <div class="treeview__level-btns ">
                                                        <button data-pob-edit class="btn btn-sm level-edit "><i
                                                        class="fa fa-pen "></i></button>
                                                        <button data-pob-remove class="btn btn-sm level-remove "><i
                                                        class="fa fa-trash "></i></button>
                                                        <button data-pob-add class="btn btn-sm level-add "><i
                                                        class="fa fa-plus "></i></button>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </li>
                                    <!-- / Control Point -->

                                    <li>
                                        <div class="treeview__level " data-level="B " data-pol>
                                            <span class="level-title " data-pob-name>Buffet</span>
                                            <div class="treeview__level-btns ">
                                                <button data-pob-edit class="btn btn-sm level-edit "><i
                                                        class="fa fa-pen "></i></button>
                                                <button data-pob-remove class="btn btn-sm level-remove "><i
                                                        class="fa fa-trash "></i></button>
                                                <button data-pob-add class="btn btn-sm level-add "><i
                                                        class="fa fa-plus "></i></button>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="treeview__level " data-level="B " data-pol>
                                            <span class="level-title " data-pob-name>Floor 1</span>
                                            <div class="treeview__level-btns ">
                                                <button data-pob-edit class="btn btn-sm level-edit "><i
                                                        class="fa fa-pen "></i></button>
                                                <button data-pob-remove class="btn btn-sm level-remove "><i
                                                        class="fa fa-trash "></i></button>
                                                <button data-pob-add class="btn btn-sm level-add "><i
                                                        class="fa fa-plus "></i></button>
                                            </div>
                                        </div>
                                        <ul>
                                            <li>
                                                <div class="treeview__level " data-level="C " data-pol>
                                                    <span class="level-title " data-pob-name>Meeting room 1</span>
                                                    <div class="treeview__level-btns ">
                                                        <button data-pob-edit class="btn btn-sm level-edit "><i
                                                                class="fa fa-pen "></i></button>
                                                        <button data-pob-remove class="btn btn-sm level-remove "><i
                                                                class="fa fa-trash "></i></button>
                                                        <button data-pob-add class="btn btn-sm level-add "><i
                                                                class="fa fa-plus "></i></button>
                                                    </div>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="treeview__level " data-level="C " data-pol>
                                                    <span class="level-title " data-pob-name>Meeting room 2</span>
                                                    <div class="treeview__level-btns ">
                                                        <button data-pob-edit class="btn btn-sm level-edit "><i
                                                                class="fa fa-pen "></i></button>
                                                        <button data-pob-remove class="btn btn-sm level-remove "><i
                                                                class="fa fa-trash "></i></button>
                                                        <button data-pob-add class="btn btn-sm level-add "><i
                                                                class="fa fa-plus "></i></button>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <div class="treeview__level " data-level="B " data-pol>
                                            <span class="level-title " data-pob-name>Floor 2</span>
                                            <div class="treeview__level-btns ">
                                                <button data-pob-edit class="btn btn-sm level-edit "><i
                                                        class="fa fa-pen "></i></button>
                                                <button data-pob-remove class="btn btn-sm level-remove "><i
                                                        class="fa fa-trash "></i></button>
                                                <button data-pob-add class="btn btn-sm level-add "><i
                                                        class="fa fa-plus "></i></button>
                                            </div>
                                        </div>
                                        <ul>
                                            <li>
                                                <div class="treeview__level " data-level="C " data-pol>
                                                    <span class="level-title " data-pob-name>Office of the head of
                                                        department</span>
                                                    <div class="treeview__level-btns ">
                                                        <button data-pob-edit class="btn btn-sm level-edit "><i
                                                                class="fa fa-pen "></i></button>
                                                        <button data-pob-remove class="btn btn-sm level-remove "><i
                                                                class="fa fa-trash "></i></button>
                                                        <button data-pob-add class="btn btn-sm level-add "><i
                                                                class="fa fa-plus "></i></button>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <div class="treeview__level " data-level="A " data-pol>
                                    <span class="level-title " data-pob-name>Recreation complex</span>
                                    <div class="treeview__level-btns ">
                                        <button data-pob-edit class="btn btn-sm level-edit "><i
                                                class="fa fa-pen "></i></button>
                                        <button data-pob-remove class="btn btn-sm level-remove "><i
                                                class="fa fa-trash "></i></button>
                                        <button data-pob-add class="btn btn-sm level-add "><i
                                                class="fa fa-plus "></i></button>
                                    </div>
                                </div>
                                <ul>
                                    <li>
                                        <div class="treeview__level " data-level="B " data-pol>
                                            <span class="level-title " data-pob-name>Floor 1</span>
                                            <div class="treeview__level-btns ">
                                                <button data-pob-edit class="btn btn-sm level-edit "><i
                                                        class="fa fa-pen "></i></button>
                                                <button data-pob-remove class="btn btn-sm level-remove "><i
                                                        class="fa fa-trash "></i></button>
                                                <button data-pob-add class="btn btn-sm level-add "><i
                                                        class="fa fa-plus "></i></button>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="treeview__level " data-level="B " data-pol>
                                            <span class="level-title " data-pob-name>Floor 2</span>
                                            <div class="treeview__level-btns ">
                                                <button data-pob-edit class="btn btn-sm level-edit "><i
                                                        class="fa fa-pen "></i></button>
                                                <button data-pob-remove class="btn btn-sm level-remove "><i
                                                        class="fa fa-trash "></i></button>
                                                <button data-pob-add class="btn btn-sm level-add "><i
                                                        class="fa fa-plus "></i></button>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="treeview__level " data-level="B " data-pol>
                                            <input type="text " data-pob-input>
                                            <div class="treeview__level-btns ">
                                                <button data-pob-remove class="btn btn-sm level-remove "><i
                                                        class="fa fa-ban "></i></button>
                                                <button data-pob-add class="btn btn-sm level-add "><i
                                                        class="fa fa-check "></i></button>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <div class="treeview__level " data-level="A " data-pol>
                                    <input type="text " data-pob-input>
                                    <div class="treeview__level-btns ">
                                        <button data-pob-remove class="btn btn-sm level-remove "><i class="fa fa-ban "></i></button>
                                        <button data-pob-add class="btn btn-sm level-add "><i class="fa fa-check "></i></button>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="treeview__level level-empty " data-poba></div>
                            </li>
                            <!-- / Control Point -->
                        </ul>
                    </div>

                    <div class="notifications " :class="{alert_anim: alertAnim_points} ">
                        <div class="alert alert-success " data-notification v-if="showNotPoints ">
                            {{ NotPoint }}
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="az-content az-content-dashboard " v-if="scene == 'stuff' ">

            <div class="container ">
                <div class="az-content-body ">
                    <div class="az-dashboard-one-title ">
                        <div>
                            <h2 class="az-dashboard-title " data-page-title>Staff management</h2>
                            <p class="az-dashboard-text " data-page-description>Manage your employees.</p>
                        </div>

                        <div class="az-content-header-right ">
                            <button class="btn btn-outline-primary " @click="showModal() ">Add new employee</button>
                        </div>
                    </div>

                    <div class="mb-4 ">
                        <input type="text " placeholder="Enter the name of the employee to search " class="form-control " data-staff-search>
                    </div>

                    <div class="row " data-staff-cards>
                        <div class="col-2 mb-4 " v-for="(person, index) in stuffList" :key="index">
                            <div class="card ">
                                <img :src="person.photo" :alt="person.full_name" class="card-img-top " data-staff-image>
                                <div class="card-body ">
                                    <h5 class="card-title mb-0 " data-staff-name>{{ person.full_name }}</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="notifications " :class="{alert_anim: alertAnim_stuff} ">
                        <div class="alert alert-success " data-notification v-if="showNotStaff ">
                            {{ NotStaff }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade show" v-if="modal">
            <div class="modal-content">
                <div class="mb-4 d-flex justify-content-between align-items-center">
                    <h2 class="mb-0" data-modal-title>Adding a new Employee</h2>

                    <button class="close" data-modal-close>
                        <i class="fa fa-times" @click="showModal()" ></i>
                    </button>
                </div>

                <form action="#" v-on:submit.prevent="postStuff()">
                    <div class="drag-area mb-3" @change="uploadFile" @dragover.prevent @drop.prevent>
                        <label @drop="dragFile" for="file" data-m3-input-drop>
                            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="43"
                                 viewBox="0 0 50 43">
                                <path d="M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z"></path>
                            </svg>
                            
                        </label>

                        <input @change="onChange" accept=".jpg" type="file" id="file" data-m3-input-file>

                        <img v-if="new_stuff.photo" :src="new_stuff.photo" alt="John Doe" data-m3-preview>
                    </div>

                    <div class="form-group">
                        <input v-model="new_stuff.full_name" type="text" class="form-control" placeholder="Enter the full name of the employee" data-m3-input-name>
                    </div>

                    <button class="btn btn-success w-100" data-m3-button>Add employee</button>
                </form>
            </div>
        </div>
        <div class="modal-backdrop show " v-if="modal"></div>

    </div>
    <script src="../js/main.js "></script>
    <style scoped>
        .alert_anim {
            transition: all .5s ease-in-out;
            right: -1000px;
        }
    </style>
</body>

</html>